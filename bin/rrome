#!/usr/bin/env jruby
# -*- ruby -*-

$LOAD_PATH.unshift File.join( File.dirname(__FILE__), "..", "lib" )

require 'rubygems'
require 'rrome'
require 'logback'
require 'java'

# Java::rrome.FeedReader::main( ARGV.to_java( java.lang.String ) )

module FeedParser
  import 'com.sun.syndication.io.SyndFeedInput'
  import 'com.sun.syndication.io.XmlReader'

  def self.parse( url )
    url = java.net.URL.new( url )
    input = SyndFeedInput.new
    feed = input.build( XmlReader.new( url ) )
    puts feed.to_s
  end
end

FeedParser.parse( ARGV[0] )


